<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui"
    xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
    xmlns:ui="http://java.sun.com/jsf/facelets">
 
     <h:head>
 		<title>Agendamento de Consultas - Home</title>
 		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
     </h:head>
 
     <h:body>
     	<h:form>
     		<div class="container">
	     		<div class="mt-5 mb-5">
	     			<div class="col-sm-10">
     					<h3>Realizar Consulta</h3>
     				</div>
	     		</div>
	     		<div class="input-group mb-3">
	     			<h:outputLabel styleClass="input-group-text" value="Nome Completo"/>
	     			<h:inputText styleClass="form-control" value="#{consultasBean.name}" />
	     		</div>
	     		<div class="input-group mb-3">
	     			<h:outputLabel styleClass="input-group-text" value="Médico"/>
	     			<p:selectOneMenu immediate="true" valueChangeListener="#{consultasBean.alterarCampos}" value="#{consultasBean.medicName}" styleClass="form-control">
	                    <f:selectItem itemValue="" itemLabel="Selecionar Especialidade"/> 
	                    <f:selectItem itemValue="#{consultasBean.medicList[0].speciality}" itemLabel="#{consultasBean.medicList[0].speciality}"/>
	                    <f:selectItem itemValue="#{consultasBean.medicList[1].speciality}" itemLabel="#{consultasBean.medicList[1].speciality}"/>
	                    <f:selectItem itemValue="#{consultasBean.medicList[2].speciality}" itemLabel="#{consultasBean.medicList[2].speciality}"/>
	                    <f:selectItem itemValue="#{consultasBean.medicList[3].speciality}" itemLabel="#{consultasBean.medicList[3].speciality}"/>
	                    <p:ajax update="medic, address"></p:ajax>
	                </p:selectOneMenu>
	     		</div>
	     		<div class="input-group mb-3">
	     			<h:outputLabel styleClass="input-group-text" value="Especialidade"/>
	     			<p:selectOneMenu id="medic" styleClass="form-control" value="#{consultasBean.speciality}">
	     				<f:selectItem itemValue="" itemLabel="Selecionar Médico"/>
	                    <f:selectItems value="#{consultasBean.medicNameList}"/>
	                </p:selectOneMenu>
	     		</div>
	     		<div class="input-group mb-3">
	     			<h:outputLabel styleClass="input-group-text" value="Local"/>
		            <p:selectOneMenu id="address" styleClass="form-control" value="#{consultasBean.address}">
		            	<f:selectItem itemValue="" itemLabel="Selecionar Local"/>
	                    <f:selectItems value="#{consultasBean.medicAddress}"/>
	                </p:selectOneMenu>
	     		</div>
	     		<div class="mb-3">
	     			<p:datePicker inline="true" value="#{consultasBean.date}"/>
	     		</div>
	     		
	     		<h:commandLink styleClass="btn btn-primary me-2" value="Agendar" action="#{consultasBean.salvarConsulta}"/>
	     		<h:commandLink styleClass="btn btn-primary" value="Voltar" action="home.xhtml" />
	     	</div>
     	</h:form>
     </h:body>
</html>